<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CHECKLIST FORM</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Kanit&display=swap");

      * {
        font-family: "Kanit", sans-serif;
        font-weight: 400;
        font-style: normal;
      }

      .border-text-input {
        border: 0px;
        border-radius: 5px;
      }

      .img-icon {
        width: 30px;
        height: 30px;
        left: 2.5%;
        top: 50%;
        transform: translate(50%, -50%);
      }

      .img-list {
        width: 40px;
        height: 40px;
      }

      .font-size-form {
        font-size: 14px !important;
      }

      .item-name {
        padding: 0;
      }

      .center-checkbox-spec {
        display: flex;
        align-items: center;
        justify-content: space-evenly;
      }
      /* .size-holder {
        font-size: 12px !important;
      } */
    </style>
  </head>
  <body>
    <div class="mt-5"></div>
    <div id="navbar" class="container-fluid">
      <h1 class="text-center">
        <span class="center-checkbox-spec">
          <img
            style="width: 35px; height: 35px"
            src="https://i.ibb.co/6bGtLWV/homepage.png"
            alt="" />CHECKLIST FORM <span></span
        ></span>
      </h1>
    </div>
    <div class="mt-5"></div>
    <div id="form" class="container">
      <form id="specForm" class="border p-3" style="border-radius: 20px">
        <div id="projectNameInput">
          <label for="projectName">ชื่อโครงการ: </label>
          <input id="projectName" class="form-control" type="text" />
        </div>
        <div class="mt-3"></div>
        <div id="projectInfoInput">
          <div class="row row-cols-2 text-center">
            <div class="col my-1 position-relative row-input">
              <img
                class="position-absolute img-icon"
                src="https://i.ibb.co/L6MwPc5/image.png"
                alt=""
              />
              <div class="d-none item-name">พื้นที่ใช้สอย</div>
              <input
                type="checkbox"
                class="has-checkbox d-none"
                name=""
                id=""
                checked
              />
              <input
                id="area"
                type="text"
                class="form-control bg-body-secondary bg-gradient text-center border-text-input disabled-false"
                placeholder=" พื้นที่ใช้สอย"
              />
            </div>
            <div class="col my-1 position-relative row-input">
              <img
                class="position-absolute img-icon"
                src="https://i.ibb.co/QPX5P6p/image.png"
                alt=""
              />
              <div class="d-none item-name">ห้องนอน</div>
              <input
                type="checkbox"
                class="has-checkbox d-none"
                name=""
                id=""
                checked
              />
              <input
                id="bedroom"
                type="text"
                class="form-control bg-body-secondary bg-gradient text-center border-text-input disabled-false"
                placeholder="ห้องนอน"
              />
            </div>
            <div class="col my-1 position-relative row-input">
              <img
                class="position-absolute img-icon"
                src="https://i.ibb.co/kBv1p50/image.png"
                alt=""
              />
              <div class="d-none item-name">ห้องน้ำ</div>
              <input
                type="checkbox"
                class="has-checkbox d-none"
                name=""
                id=""
                checked
              />
              <input
                id="bathroom"
                type="text"
                class="form-control bg-body-secondary bg-gradient text-center border-text-input disabled-false"
                placeholder="ห้องน้ำ"
              />
            </div>
            <div class="col my-1 position-relative row-input">
              <img
                class="position-absolute img-icon"
                src="https://i.ibb.co/k4PrbMd/image.png"
                alt=""
              />
              <div class="d-none item-name">ที่จอดรถ</div>
              <input
                type="checkbox"
                class="has-checkbox d-none"
                name=""
                id=""
                checked
              />
              <input
                id="parking"
                type="text"
                class="form-control bg-body-secondary bg-gradient text-center border-text-input disabled-false"
                placeholder="ที่จอดรถ"
              />
            </div>
          </div>
        </div>
        <div class="mt-3"></div>
        <div id="systemInput" class="font-size-form">
          <div class="accordion" id="accordionPanelsStayOpenExample">
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button
                  class="accordion-button"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#panelsStayOpen-collapseOne"
                  aria-expanded="true"
                  aria-controls="panelsStayOpen-collapseOne"
                >
                  งานประปาและสุขาภิบาล
                </button>
              </h2>
              <div
                id="panelsStayOpen-collapseOne"
                class="accordion-collapse collapse"
              >
                <div class="accordion-body">
                  <div class="row row-cols-4 text-center">
                    <div class="col-6">รายการ</div>
                    <div class="col-1">มี</div>
                    <div class="col-1">ไม่มี</div>
                    <div class="col-4">สเปก</div>
                  </div>
                  <hr />
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/cFqxJNK/Artboard-5-copy-3-4x.png"
                        alt=""
                      />ถังบำบัดน้ำเสีย
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img class="img-list"
                      src="https://i.ibb.co/4JVyx4d/Artboard-5-copy-4x.png""
                      alt="">บ่อพักดักกลิ่น
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/PZKqVzd/Artboard-5-4x.png"
                        alt=""
                      />ถังดักไขมัน
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/VwP3KDK/Artboard-5-copy-2-4x.png"
                        alt=""
                      />แทงค์น้ำ
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/cFqxJNK/Artboard-5-copy-3-4x.png"
                        alt=""
                      />ปั้มน้ำอัตโนมัติ
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/cFqxJNK/Artboard-5-copy-3-4x.png"
                        alt=""
                      />ระบบท่อปลวก
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button
                  class="accordion-button collapsed"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#panelsStayOpen-collapseTwo"
                  aria-expanded="false"
                  aria-controls="panelsStayOpen-collapseTwo"
                >
                  งานหลังคา
                </button>
              </h2>
              <div
                id="panelsStayOpen-collapseTwo"
                class="accordion-collapse collapse"
              >
                <div class="accordion-body">
                  <div class="row row-cols-4 text-center">
                    <div class="col-6">รายการ</div>
                    <div class="col-1">มี</div>
                    <div class="col-1">ไม่มี</div>
                    <div class="col-4">สเปก</div>
                  </div>
                  <hr />
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/GdJJdRV/Artboard-9-copy-3-4x.png"
                        alt=""
                      />ประเภทหลังคา
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/f4SM2F2/Artboard-9-4x.png"
                        alt=""
                      />โครงสร้างหลังคา
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/f4SM2F2/Artboard-9-4x.png"
                        alt=""
                      />หลังคาโซลาร์เซลล์
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/YBtPSDR/Artboard-9-copy-4x.png"
                        alt=""
                      />ฉนวนกันความร้อน
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/Wvrwm6J/Artboard-9-copy-10-4x.png"
                        alt=""
                      />
                      ระบบระบายความร้อนใต้หลังคา
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button
                  class="accordion-button collapsed"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#panelsStayOpen-collapseThree"
                  aria-expanded="false"
                  aria-controls="panelsStayOpen-collapseThree"
                >
                  ระบบไฟฟ้า
                </button>
              </h2>
              <div
                id="panelsStayOpen-collapseThree"
                class="accordion-collapse collapse"
              >
                <div class="accordion-body">
                  <div class="row row-cols-4 text-center">
                    <div class="col-4">รายการ</div>
                    <div class="col-2">มี</div>
                    <div class="col-2">ไม่มี</div>
                    <div class="col-4">สเปก</div>
                  </div>
                  <hr />
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/BncjX9F/Artboard-9-copy-4-4x.png"
                        alt=""
                      />ขนาดมิเตอร์ไฟ
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/ZdPk79s/Artboard-9-copy-8-4x.png"
                        alt=""
                      />เบรกกเกอร์ไฟ
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/ZdPk79s/Artboard-9-copy-8-4x.png"
                        alt=""
                      />ระบบป้องกันไฟดูด
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/17rPSsh/Artboard-9-copy-6-4x.png"
                        alt=""
                      />บล็อกไฟสำหรับ EV Charger
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                  <div class="row row-cols-4 mb-1 row-input">
                    <div class="col-6 item-name">
                      <img
                        class="img-list"
                        src="https://i.ibb.co/xf4dZBg/Artboard-9-copy-9-4x.png"
                        alt=""
                      />
                      บล็อกไฟสำหรับสอเตอร์ประตูรั้วอัตโนมัติ
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="has-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-1 center-checkbox-spec">
                      <input
                        type="checkbox"
                        class="no-checkbox"
                        name=""
                        id=""
                        onclick="toggleInput(this)"
                      />
                    </div>
                    <div class="col-4 center-checkbox-spec">
                      <input
                        type="text"
                        style="width: 100%"
                        class="border-text-input bg-body-secondary bg-gradient"
                        disabled
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="mt-3"></div>
        <div class="text-center">
          <button type="submit" class="btn btn-primary bg-gradient">
            บันทึก
          </button>
        </div>
      </form>
      <div class="mt-3"></div>
      <div id="listProjects">
        <div
          class="bg-success bg-gradient text-light text-center px-3 py-2"
          style="width: 100px; border-radius: 10px"
        >
          โครงการ
        </div>
        <div id="datas"></div>
      </div>
      <div class="mt-3"></div>
      <div>
        <div
          class="bg-success bg-gradient text-light text-center px-3 py-2"
          style="width: 250px; border-radius: 10px"
        >
          เปรียบเทียบโครงการที่คุณสนใจ
        </div>
        <div class="mt-3"></div>
        <div class="border p-3" style="border-radius: 20px">
          <div id="displayComparisonCheckbox" class="row row-cols-2"></div>
          <div class="mb-3"></div>
          <div class="d-flex justify-content-between">
            <button id="clearCheckboxBtn" class="btn btn-danger bg-gradient">
              ล้าง
            </button>
            <button id="compareBtn" class="btn btn-primary bg-gradient">
              เปรียบเทียบ
            </button>
          </div>
        </div>
        <div class="mt-3"></div>
        <div>
          <button id="deleteTable" class="btn btn-danger bg-gradient">
            ลบตาราง
          </button>
        </div>
        <div class="mb-3"></div>
        <div id="comparison"></div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
      function toggleInput(checkbox) {
        const row = checkbox.closest(".row");
        const hasCheckbox = row.querySelector(".has-checkbox");
        const noCheckbox = row.querySelector(".no-checkbox");
        const input = row.querySelector(".border-text-input");

        if (checkbox === hasCheckbox) {
          noCheckbox.checked = false;
          input.disabled = !hasCheckbox.checked;
          if (!hasCheckbox.checked) {
            input.value = "";
          }
        } else if (checkbox === noCheckbox) {
          hasCheckbox.checked = false;
          input.disabled = true;
          input.value = "";
        }
      }

      function deleteProject(projectId) {
        let projects = JSON.parse(localStorage.getItem("projects")) || [];
        projects = projects.filter((project) => project.id !== projectId);
        localStorage.setItem("projects", JSON.stringify(projects));
        // document.getElementById(projectId).remove();
        const deleteTargets = document.querySelectorAll(`.${projectId}`);
        deleteTargets.forEach((target) => {
          if (target) {
            target.remove();
          }
        });
        window.location.reload();
      }

      document
        .getElementById("specForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          const projectName = document.getElementById("projectName").value;
          const rows = document.querySelectorAll("#specForm .row-input");
          const projectId = `project-${new Date().getTime()}`;

          let projectData = {
            id: projectId,
            name: projectName,
            items: [],
          };

          rows.forEach((row) => {
            // const item = row.cells[0].innerText;
            const item = row.querySelector(".item-name").innerText;
            const hasItem = row.querySelector(".has-checkbox").checked
              ? "มี"
              : "ไม่มี";
            const spec = row.querySelector(".border-text-input").value;
            // const spec = row.cells[3].querySelector("input").value;

            projectData.items.push({ item, hasItem, spec });
          });

          let projects = JSON.parse(localStorage.getItem("projects")) || [];
          projects.push(projectData);
          localStorage.setItem("projects", JSON.stringify(projects));

          addProjectToDOM(projectData);
          document.getElementById("specForm").reset();
          document.querySelectorAll(".border-text-input").forEach((element) => {
            element.disabled = true;
          });
          document.querySelectorAll(".disabled-false").forEach((element) => {
            element.disabled = false;
          });
        });

      function clearCheckboxesInDiv() {
        const div = document.getElementById("displayComparisonCheckbox");
        const checkboxes = div.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach(function (checkbox) {
          checkbox.checked = false;
        });
      }

      document
        .getElementById("clearCheckboxBtn")
        .addEventListener("click", clearCheckboxesInDiv);

      document
        .getElementById("compareBtn")
        .addEventListener("click", compareProjects);

      document
        .getElementById("deleteTable")
        .addEventListener("click", function () {
          document.getElementById("comparisonTable").remove();
        });

      function compareProjects() {
        const selectedProjects = [];
        document
          .querySelectorAll(
            "#displayComparisonCheckbox .form-check-input:checked"
          )
          .forEach((checkbox) => {
            const projectId = checkbox.value;
            const projects = JSON.parse(localStorage.getItem("projects")) || [];
            const project = projects.find((p) => p.id === projectId);
            if (project) {
              selectedProjects.push(project);
            }
          });

        if (selectedProjects.length > 0) {
          displayComparison(selectedProjects);
        } else {
          alert("กรุณาเลือกโปรเจ็กต์เพื่อเปรียบเทียบ");
        }
      }

      function displayComparison(projects) {
        let comparisonTable = `
  <table class="table table-bordered" id="comparisonTable">
    <thead>
      <tr>
        <th>รายการ</th>
        ${projects.map((project) => `<th>${project.name}</th>`).join("")}
      </tr>
    </thead>
    <tbody>
  `;

        const allItems = new Set();
        projects.forEach((project) => {
          project.items.forEach((item) => {
            allItems.add(item.item);
          });
        });

        allItems.forEach((item) => {
          comparisonTable += `<tr><td>${item}</td>`;
          projects.forEach((project) => {
            const projectItem = project.items.find((i) => i.item === item);
            if (projectItem) {
              comparisonTable += `
          <td>
            ${projectItem.hasItem} <br>
            ${projectItem.spec}
          </td>
        `;
            } else {
              comparisonTable += `<td>ไม่มี</td>`;
            }
          });
          comparisonTable += `</tr>`;
        });

        comparisonTable += `
    </tbody>
  </table>

  `;

        document.getElementById("comparison").innerHTML = comparisonTable;
      }

      function addProjectToDOM(projectData) {
        const bedroomValue = document.getElementById("bedroom").value;
        const bathroomValue = document.getElementById("bathroom").value;
        const areaValue = document.getElementById("area").value;
        const parkingValue = document.getElementById("parking").value;
        let data = `
        <div class="card mt-3" id="${projectData.id}">
          <div class="card-header d-flex justify-content-between align-items-center" id="heading${projectData.id}">
            <h5 class="mb-0">
              <button class="btn btn-link text-decoration-none text-secondary" type="button" data-toggle="collapse" data-target="#collapse${projectData.id}" aria-expanded="true" aria-controls="collapse${projectData.id}">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-houses-fill" viewBox="0 0 16 16">
  <path d="M7.207 1a1 1 0 0 0-1.414 0L.146 6.646a.5.5 0 0 0 .708.708L1 7.207V12.5A1.5 1.5 0 0 0 2.5 14h.55a2.5 2.5 0 0 1-.05-.5V9.415a1.5 1.5 0 0 1-.56-2.475l5.353-5.354z"/>
  <path d="M8.793 2a1 1 0 0 1 1.414 0L12 3.793V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v3.293l1.854 1.853a.5.5 0 0 1-.708.708L15 8.207V13.5a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 4 13.5V8.207l-.146.147a.5.5 0 1 1-.708-.708z"/>
</svg>   ${projectData.name}
              </button>
            </h5>
            <button class="btn btn-danger btn-sm" onclick="deleteProject('${projectData.id}')">ลบ</button>
          </div>
          <div id="collapse${projectData.id}" class="collapse" aria-labelledby="heading${projectData.id}" data-parent="#datas">
            <div class="card-body">
                <!--
              <div class="row row-cols-2 text-center">
                <div class="col my-1">พื้นที่ใช้สอย: ${areaValue} ตร.ม</div>
                <div class="col my-1">ห้องนอน: ${bedroomValue} ห้อง</div>                
                <div class="col my-1">ห้องน้ำ: ${bathroomValue} ห้อง</div>
                <div class="col my-1">ที่จอดรถ: ${parkingValue} ที่</div>
              </div>
              -->
              <table class="table">
                <thead>
                  <tr>
                    <th>รายการ</th>
                    <th>มี</th>
                    <th>ไม่มี</th>
                    <th>สเปค</th>
                  </tr>
                </thead>
                <tbody>
      `;

        projectData.items.forEach((itemData) => {
          data += `
          <tr>
            <td>${itemData.item}</td>
            <td>${itemData.hasItem === "มี" ? "✔" : ""}</td>
            <td>${itemData.hasItem === "ไม่มี" ? "✔" : ""}</td>
            <td>${itemData.spec}</td>
          </tr>
        `;
        });

        data += `
                </tbody>
              </table>
            </div>
          </div>
        </div>
      `;

        document.getElementById("datas").innerHTML += data;

        const comparisonData = `
          <div class="form-check d-flex justify-content-evenly" id="${projectData.id}">
            <input class="form-check-input" type="checkbox" value="${projectData.id}">
            <label class="form-check-label" for="compare-${projectData.id}">
              ${projectData.name}
            </label>
          </div>
          `;
        document.getElementById("displayComparisonCheckbox").innerHTML +=
          comparisonData;
      }

      function loadProjects() {
        let projects = JSON.parse(localStorage.getItem("projects")) || [];
        projects.forEach(addProjectToDOM);
      }

      document.addEventListener("DOMContentLoaded", loadProjects);
    </script>
  </body>
</html>
